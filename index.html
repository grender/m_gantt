<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>m_gantt by morphine06</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->


    <link rel="stylesheet" href="bower_components/m_gantt/dist/m_gantt.css">
    <script src="bower_components/jquery/dist/jquery.min.js" type="text/javascript"></script>
    <script src="bower_components/moment/min/moment.min.js" type="text/javascript"></script>
    <script src="bower_components/m_gantt/dist/m_gantt.js" type="text/javascript"></script>


    <style type="text/css" media="screen">
      .m_gantt-col-sums {width: 0;}
      .m_gantt-col-labels {width: 0;}
    </style>
    <script type="text/javascript">


var numTask = 0 ;
$(document).ready(function() {


var values1 = [
  {
    id: 'MA1',
    text: "Première tâche (can't be drag)",
    textBar: "Texte première tâche",
    start: moment().add(2, 'days').startOf('day'),
    end: moment().add(7, 'days').startOf('day'),
    cls: '',
    nbUnitsToBeMade: 30,
    nbUnitsMade: 10,
    // links: 'MA2',
    data: {cool:"ok"}
  }, {
    id: 'MA2',
    text: "Sous-tâche 1",
    click: function() {
      console.log("c'est un click") ;
    },
    parent: 'MA1',
    textBar: "Texte deuxième tâche",
    start: moment().add(2, 'days').startOf('day'),
    end: moment().add(8, 'days').startOf('day')
  }, {
    id: 'MA3',
    text: "Sous-tâche 2",
    parent: 'MA1',
    textBar: "Texte deuxième tâche",
    start: moment().add(5, 'days').startOf('day'),
    end: moment().add(15, 'days').startOf('day'),
    nbUnitsToBeMade: 20,
    nbUnitsMade: 16,
  }, {
    id: 'MA4',
    text: "Deuxième tâche",
    // parent: 'MA3',
    textBar: "Texte deuxième tâche",
    start: moment().add(9, 'days').startOf('day'),
    end: moment().add(20, 'days').startOf('day')
  }
] ;

var values2 = [
  {
    id: 'MA1',
    text: "Première tâche",
    textBar: "Texte première tâche",
    start: moment().add(2, 'days').startOf('day'),
    end: moment().add(7, 'days').startOf('day'),
    bgColor: '#428bca',
    cls: '',
    links: 'MA2',
    data: {cool:"ok"}
  }, {
    id: 'MA2',
    text: "Deuxième tâche",
    textBar: "Texte deuxième tâche",
    start: moment().add(9, 'days').startOf('day'),
    end: moment().add(20, 'days').startOf('day')
  }
] ;

numTask = values1.length+1 ;

  $("#gantt1").m_gantt({
    start: moment().startOf('day'), // you can set integer -3 to indicate -3 days before first task
    end: moment().add(3, 'months').startOf('day'),  // you can set integer 7 to indicate 7 days after last task
    thresholdWarning: 80, // in purcent
    height: 300,
    clickTask: function() {
      alert("Task clicked") ;
    },
    values: values1     
  }) ;
  $("#gantt2").m_gantt({
    height: 200,
    labelsWidth: 0,
    values: values2     
  }) ;
}) ;

function addTask() {
  $("#gantt1").m_gantt('addTask', {
    id: 'MA'+numTask,
    text: "Tâche "+numTask,
    textBar: "Texte tâche",
    start: moment().add(2, 'days').startOf('day'),
    end: moment().add(7, 'days').startOf('day'),
    bgColor: '#428bca',
    cls: '',
    data: {cool:"ok"}   
  });
  numTask++ ;
}
function removeTask() {
  numTask-- ;
  var idToRemove = 'MA'+numTask ;
  // log("idToRemove",idToRemove)
  $("#gantt1").m_gantt('removeTask', idToRemove) ;
}
    </script>
</head>
  <body>
    <div class="wrapper">
      <header>
        <h1>m_gantt</h1>
        <p>Gantt for jQuery</p>

        <p class="view"><a href="https://github.com/morphine06/m_gantt">View the Project on GitHub <small>morphine06/m_gantt</small></a></p>


        <ul>
          <li><a href="https://github.com/morphine06/m_gantt/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/morphine06/m_gantt/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/morphine06/m_gantt">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1><a name="m_gantt" class="anchor" href="#m_gantt"><span class="octicon octicon-link"></span></a>m_gantt</h1>

<p>A Gantt plugin for jQuery width drag'n'drop, resize and connections.</p>

<p>Will be really available before december 2014. Only a first and buggy version now, no doc, no explications.</p>

<h2><a name="install-and-demos" class="anchor" href="#install-and-demos"><span class="octicon octicon-link"></span></a>Install and demos</h2>

<p>bower install m_gantt</p>

      <h2>Exemple 1</h2>
      <div>
        <button type="button" onclick="addTask();">Add task</button>
        <button type="button" onclick="removeTask();">Remove last task</button>
      </div>
      <div id="gantt1"></div>
      <h2>Exemple 2</h2>
      <div id="gantt2"></div>

      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/morphine06">morphine06</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>

  </body>
</html>