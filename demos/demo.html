<!doctype html>

<html lang=en-us>
	<head>
		<title>Demo m_gantt</title>
		
		<link rel="stylesheet" href="../dist/m_gantt.css">

		<script src="../lib/jQuery.min.js" type="text/javascript"></script>
		<script src="../lib/moment.js" type="text/javascript"></script>
		<script src="../dist/m_gantt.js" type="text/javascript"></script>



		<style type="text/css" media="screen">
			body {
				font-family: Arial;
				font-size: 12px;
			}
			.container {
				margin: 0 auto;
				width: 960px;
			}
		</style>
		<script type="text/javascript">

$(document).ready(function() {
	$("#gantt1").m_gantt({
		height: 200,
		values: [
			{
				id: 'MA1',
				text: "Première tâche",
				textBar: "Texte première tâche",
				start: moment().add(2, 'days'),
				end: moment().add(7, 'days'),
				bgColor: '#428bca',
				cls: '',
				links: 'MA2',
				data: {cool:"ok"}
			}, {
				id: 'MA2',
				text: "Deuxième tâche",
				textBar: "Texte deuxième tâche",
				start: moment().add(9, 'days'),
				end: moment().add(20, 'days')
			}
		]				
	}) ;
	$("#gantt2").m_gantt({
		height: 200,
		labelsWidth: 200,
		values: [
			{
				id: 'MA1',
				text: "Première tâche",
				textBar: "Texte première tâche",
				start: moment().add(2, 'days'),
				end: moment().add(7, 'days'),
				bgColor: '#428bca',
				cls: '',
				links: 'MA2',
				data: {cool:"ok"}
			}, {
				id: 'MA2',
				text: "Deuxième tâche",
				textBar: "Texte deuxième tâche",
				start: moment().add(9, 'days'),
				end: moment().add(20, 'days')
			}
		]				
	}) ;
}) ;
var numTask = 3 ;
function addTask() {
	$("#gantt1").m_gantt('addTask', {
		id: 'MA'+numTask,
		text: "Tâche "+numTask,
		textBar: "Texte tâche",
		start: moment().add(2, 'days'),
		end: moment().add(7, 'days'),
		bgColor: '#428bca',
		cls: '',
		links: 'MA2',
		data: {cool:"ok"}		
	});
	numTask++ ;
}
function removeTask() {
	numTask-- ;
	var idToRemove = 'MA'+numTask ;
	log("idToRemove",idToRemove)
	$("#gantt1").m_gantt('removeTask', idToRemove) ;
}
		</script>
	</head>
	<body>
		<div class="container">
			<h2>Exemple 1</h2>
			<div>
				<button type="button" onclick="addTask();">Add task</button>
				<button type="button" onclick="removeTask();">Remove last task</button>
			</div>
			<div id="gantt1"></div>
			<h2>Exemple 2</h2>
			<div id="gantt2"></div>
		</div>
	</body>
</html>